# 漫画・イラスト投稿プラットフォーム要件定義書

## 1. プロジェクト概要
### 1.1 目的
学生を中心とした創作者が自分の描いた漫画やイラストを自由に投稿・共有できる会員制プラットフォームの構築

### 1.2 ターゲットユーザー
- **主要ターゲット**: 趣味で漫画・イラストを描く学生
- **対象年齢**: 18歳以上（R-18コンテンツ対応のため）
- **ユーザー属性**: 現役学生、OB/OG

## 2. 機能要件

### 2.1 ユーザー管理機能
#### 2.1.1 会員登録・認証
- **認証方式**: メール認証、SNS認証、Googleアカウント認証
- **表示名形式**: 
  - 現役学生: 「太郎@大学名」
  - OB: 「太郎@大学名ob」
  - OG: 「太郎@大学名og」
- **大学名入力**: プルダウンから選択
- **学生区分**: 登録時にOB/OGの場合は専用ボタンで選択
- **認証方式**: 自己申告制
- **表示名変更**: 卒業時等にOB/OGへの変更可能
- **会員ランク**: 区分なし（一律同じ権限）

#### 2.1.2 年齢確認
- **R-18ページアクセス時**: チェックボックスによる年齢確認
- **確認方法**: 「18歳以上ですか？」の確認

### 2.2 投稿機能
#### 2.2.1 基本仕様
- **投稿権限**: 会員登録済みユーザーのみ
- **閲覧権限**: 会員登録の有無に関係なく全体公開
- **対応ファイル形式**: JPEG、PNG
- **ファイルサイズ制限**: 1枚あたり最大10MB
- **投稿枚数**: 1投稿あたり最大50枚

#### 2.2.2 投稿時入力項目
- **必須項目**:
  - タイトル
  - 作品画像（1枚以上）
  - サムネイル画像（別途アップロード）
  - タグ（自由作成可能、pixiv形式）
- **任意項目**:
  - R-18フラグ（自己申告）
- **不要項目**: 説明文

### 2.3 タグ機能
- **作成方式**: ユーザーによる自由作成（pixiv形式）
- **用途**: 作品の分類・検索・ランキング

### 2.4 ランキング機能
#### 2.4.1 ランキング種別
- **全体ランキング**: PV数といいね数に基づく週間ランキング
- **タグ別ランキング**: タグごとの週間ランキング
- **対象作品**: 新着作品も含む全作品が平等に対象

#### 2.4.2 集計仕様
- **集計期間**: 週間（1週間）
- **評価指標**: PV数 + いいね数

### 2.5 マイページ機能
#### 2.5.1 基本機能
- **自分の投稿作品一覧**
- **プロフィール情報**
- **フォロー/フォロワー管理**
- **いいねした作品一覧**

#### 2.5.2 作家向け機能
- **依頼受付設定**:
  - 受付可否の切り替え
  - 料金設定（添削/リクエスト別）
  - 得意ジャンル・タグ設定
- **依頼管理**:
  - 受信した依頼一覧
  - 進行中の依頼管理
  - 完了した依頼履歴
- **売上管理**: 依頼による収益確認

### 2.6 依頼機能
#### 2.6.1 依頼種別
- **作品添削依頼**: 既存作品の添削・アドバイス依頼
- **作品リクエスト依頼**: 新規作品の制作依頼
- **依頼形式**: 指名型リクエスト（skeb準拠）
- **参考**: skebの仕様を参考

#### 2.6.2 作家検索・指名機能
- **作家一覧表示**: 依頼受付中の作家を一覧表示
- **作家検索機能**:
  - 大学名での絞り込み
  - タグ（得意ジャンル）での絞り込み
  - 料金範囲での絞り込み
  - ユーザー名での検索
- **作家プロフィール**:
  - ポートフォリオ（過去作品）
  - 料金設定（添削/リクエスト別）
  - 依頼受付可否の設定
  - 得意ジャンル・タグ
  - 実績・評価

#### 2.6.3 依頼管理
- **決済機能**: プラットフォーム内での決済処理
- **依頼フロー**:
  1. 作家検索・選定
  2. 依頼内容入力・送信
  3. 作家による受諾/辞退
  4. 制作・納品
  5. 完了・評価
- **依頼状況の管理**
- **完了作品の納品**
- **依頼の可視性**: skeb準拠（依頼者・受注者・完成作品の公開範囲）
- **依頼期限**: skeb準拠の期限設定機能

### 2.7 検索機能
- **作品検索**:
  - タグ検索: 作品をタグで検索
  - ユーザー名検索: ユーザーを名前で検索
  - 複合検索: タグとユーザーの組み合わせ検索
- **作家検索**:
  - 依頼受付中作家の検索
  - 大学名・ジャンル・料金での絞り込み

### 2.8 フォロー機能
- **フォロー/フォロワー**: ユーザー間のフォロー関係
- **フォロー中作品の表示**: フォローしているユーザーの新着作品表示

### 2.9 いいね機能
- **作品へのいいね**: 会員のみが利用可能
- **いいね数の表示**: 作品ページおよび一覧での表示

## 3. R-18コンテンツ対応

### 3.1 コンテンツ分離
- **一般ページ**: 通常の作品表示
- **R-18ページ**: R-18作品専用ページ（別ページ構成）
- **アクセス方法**: ランディングページヘッダーからのリンク

### 3.2 年齢確認
- **確認タイミング**: R-18ページ遷移時
- **確認方法**: チェックボックス形式
- **判定方式**: 投稿者による自己申告

## 4. 非機能要件

### 4.1 除外機能
- **コメント機能**: 実装しない
- **説明文**: 投稿時に不要
- **ジャンル別ランキング**: タグ別ランキングで代替
- **有料課金機能**: 実装しない（会員ランク区分なし）

### 4.2 パフォーマンス要件
- **画像表示**: 最適化された画像配信
- **ランキング更新**: 週1回の定期更新
- **同時接続**: 学生コミュニティ規模に対応

### 4.3 レスポンシブ対応
- **対応デバイス**: PC、スマートフォン、タブレット
- **ブレイクポイント**: 
  - モバイル: 〜768px
  - タブレット: 768px〜1024px
  - デスクトップ: 1024px〜
- **モバイル最適化**:
  - タッチ操作に対応したUI/UX
  - 画像の軽量化・遅延読み込み
  - ファイルアップロードのモバイル対応
  - フリック操作での画像閲覧

### 4.4 セキュリティ要件
- **認証セキュリティ**: OAuth 2.0準拠
- **画像ファイル検証**: アップロードファイルの形式・サイズ検証
- **R-18コンテンツ管理**: 適切な年齢確認とコンテンツ分離

## 5. システム構成

### 5.1 技術スタック
- **開発言語**: TypeScript
- **フレームワーク**: React + Vite
- **スタイリング**: Tailwind CSS
- **レスポンシブ**: CSS Grid/Flexbox + メディアクエリ
- **データベース**: Supabase（PostgreSQL）
- **ファイルストレージ**: Supabase Storage

### 5.2 インフラ構成
- **初期段階**: Supabase（迅速な開発・デプロイ）
- **スケール段階**: AWS移行（EC2, RDS, S3, CloudFront）
- **CDN**: 画像配信最適化
- **決済システム**: Stripe等の外部決済サービス連携

### 5.3 開発体制
- **開発形態**: チーム開発
- **版本管理**: Git（GitHub/GitLab）
- **開発手法**: アジャイル開発を推奨

## 6. 今後の検討事項
- **モデレーション機能**: 不適切コンテンツの報告・削除機能
- **通知機能**: フォローユーザーの新規投稿通知
- **統計機能**: 投稿者向けのPV・いいね統計
- **API公開**: 外部アプリケーション連携用API
- **大学認証**: 将来的な大学メールアドレス認証機能の検討
